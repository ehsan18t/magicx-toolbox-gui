# Gaming Tweaks - Optimize Windows for gaming performance

category:
  id: gaming
  name: "Gaming"
  description: "Optimize Windows for gaming performance"
  icon: "mdi:gamepad-variant"
  order: 6

tweaks:
  - id: enable_game_mode
    name: "Enable Game Mode"
    description: "Enable Windows Game Mode for optimized gaming"
    risk_level: low
    requires_reboot: false
    info: |
      ## What This Does
      Enables Windows Game Mode which optimizes system resources when games are running.

      ## Benefits
      - Prioritizes CPU and GPU resources for games
      - Reduces background Windows Update activity during gaming
      - Limits background processes from stealing resources

      ## Compatibility
      Works best with games that Windows recognizes. Most modern games are automatically detected.

      ## Recommendation
      Generally beneficial to enable. Some older games may not be recognized.
    options:
      - label: "Game Mode Enabled"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "UseNexusForGameMode"
            value_type: "REG_DWORD"
            value: 1
      - label: "Game Mode Disabled"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "UseNexusForGameMode"
            value_type: "REG_DWORD"
            value: 0

  - id: fullscreen_optimizations
    name: "Fullscreen Optimizations"
    description: "Configure Windows fullscreen behavior for games"
    risk_level: low
    requires_reboot: false
    info: |
      ## What This Does
      Controls how Windows handles fullscreen games through Fullscreen Optimizations (FSO).

      ## Options Explained
      - **Disable All FSO**: Forces true exclusive fullscreen for lowest input lag
      - **Per-Game Settings**: Respects individual game compatibility settings
      - **Windows Default**: Uses hybrid fullscreen (borderless window)

      ## Performance Impact
      - Disabling FSO can reduce input latency by 1-5ms
      - Some games may experience issues with Alt+Tab
      - Older games often work better with FSO disabled

      ## Recommendation
      Try "Disable All FSO" for competitive gaming. Use "Per-Game" if you have issues.
    options:
      - label: "Disable All FSO (Best for Gaming)"
        registry_changes:
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehavior"
            value_type: "REG_DWORD"
            value: 2
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_HonorUserFSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_EFSEFeatureFlags"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_DXGIHonorFSEWindowsCompatible"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 2
      - label: "Per-Game Settings (Honor User)"
        registry_changes:
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehavior"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_HonorUserFSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_EFSEFeatureFlags"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_DXGIHonorFSEWindowsCompatible"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 0
      - label: "Windows Default (FSO Enabled)"
        registry_changes:
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehavior"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_HonorUserFSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_EFSEFeatureFlags"
            action: delete_value
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_DXGIHonorFSEWindowsCompatible"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_FSEBehaviorMode"
            value_type: "REG_DWORD"
            value: 0

  - id: enable_gpu_scheduling
    name: "Enable Hardware-Accelerated GPU Scheduling"
    description: "Enable GPU scheduling for better gaming performance"
    risk_level: low
    requires_admin: true
    requires_reboot: true
    info: |
      ## What This Does
      Enables Hardware-Accelerated GPU Scheduling (HAGS) which lets the GPU manage its own memory.

      ## Requirements
      - Windows 10 version 2004 or later
      - Compatible GPU with updated drivers (NVIDIA 10 series+, AMD RX 5000+, Intel Gen 10+)

      ## Benefits
      - Reduced CPU overhead for graphics tasks
      - Lower input latency in some games
      - More consistent frame times

      ## Potential Issues
      - Some older games may experience issues
      - Rare driver compatibility problems

      ## Recommendation
      Enable if you have a compatible GPU. Disable if you experience crashes or graphical issues.
    options:
      - label: "GPU Scheduling Enabled"
        registry_changes:
          - hive: HKLM
            key: "System\\CurrentControlSet\\Control\\GraphicsDrivers"
            value_name: "HwSchMode"
            value_type: "REG_DWORD"
            value: 2
      - label: "GPU Scheduling Disabled"
        registry_changes:
          - hive: HKLM
            key: "System\\CurrentControlSet\\Control\\GraphicsDrivers"
            value_name: "HwSchMode"
            value_type: "REG_DWORD"
            value: 1

  - id: disable_gamebar_tips
    name: "Disable Game Bar Tips"
    description: "Disable Game Bar tips and notifications"
    risk_level: low
    requires_reboot: false
    info: |
      ## What This Does
      Disables the startup tips and notifications from Xbox Game Bar.

      ## Benefits
      - No more "Press Win+G to open Game Bar" popups
      - Cleaner gaming experience
      - Game Bar still works if needed

      ## Note
      This only disables tips, not the Game Bar itself. You can still use Win+G if needed.

      ## Recommendation
      Safe to disable. Purely removes annoyance without losing functionality.
    options:
      - label: "Game Bar Tips Disabled"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "ShowStartupPanel"
            value_type: "REG_DWORD"
            value: 0
      - label: "Game Bar Tips Enabled"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "ShowStartupPanel"
            value_type: "REG_DWORD"
            value: 1

  - id: disable_mouse_acceleration
    name: "Disable Mouse Acceleration"
    description: "Disable mouse pointer acceleration for gaming"
    risk_level: low
    requires_reboot: false
    info: |
      ## What This Does
      Disables Windows mouse acceleration which changes pointer speed based on how fast you move the mouse.

      ## Gaming Impact
      - **FPS games**: Critical for consistent aim - muscle memory relies on 1:1 movement
      - **RTS/MOBA**: Less critical but still beneficial for precision
      - **Casual games**: Minimal impact

      ## How It Works
      With acceleration enabled, moving the mouse slowly moves the cursor a short distance, but moving quickly covers more distance proportionally.

      ## Recommendation
      Essential for competitive FPS gaming. Highly recommended for all gamers.
    options:
      - label: "Mouse Acceleration Disabled"
        registry_changes:
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseSpeed"
            value_type: "REG_SZ"
            value: "0"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseThreshold1"
            value_type: "REG_SZ"
            value: "0"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseThreshold2"
            value_type: "REG_SZ"
            value: "0"
      - label: "Mouse Acceleration Enabled"
        registry_changes:
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseSpeed"
            value_type: "REG_SZ"
            value: "1"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseThreshold1"
            value_type: "REG_SZ"
            value: "6"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseThreshold2"
            value_type: "REG_SZ"
            value: "10"

  - id: disable_game_dvr
    name: "Disable Game DVR"
    description: "Completely disable Xbox Game DVR background recording"
    risk_level: low
    requires_admin: true
    requires_reboot: true
    info: |
      ## What This Does
      Disables Xbox Game DVR's background recording and game clip features.

      ## Performance Impact
      - **FPS improvement**: 5-15% in some games
      - **Reduced stuttering**: No background video encoding
      - **Lower GPU usage**: No recording overhead

      ## What You Lose
      - "Record that" feature (Win+Alt+G)
      - Background game recording
      - Game clip capture

      ## Alternative
      Use dedicated recording software like OBS for better performance and quality.

      ## Recommendation
      Disable for competitive gaming. Keep enabled if you frequently clip gameplay.
    options:
      - label: "Game DVR Disabled"
        registry_changes:
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_Enabled"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "Software\\Microsoft\\Windows\\CurrentVersion\\GameDVR"
            value_name: "AppCaptureEnabled"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKLM
            key: "Software\\Policies\\Microsoft\\Windows\\GameDVR"
            value_name: "AllowGameDVR"
            value_type: "REG_DWORD"
            value: 0
      - label: "Game DVR Enabled (Default)"
        registry_changes:
          - hive: HKCU
            key: "System\\GameConfigStore"
            value_name: "GameDVR_Enabled"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "Software\\Microsoft\\Windows\\CurrentVersion\\GameDVR"
            value_name: "AppCaptureEnabled"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKLM
            key: "Software\\Policies\\Microsoft\\Windows\\GameDVR"
            value_name: "AllowGameDVR"
            action: delete_value

  # NOTE: honor_user_fse_behavior, disable_efse_features, disable_dps_feature
  # have been consolidated into fullscreen_optimizations tweak above

  - id: disable_gamebar
    name: "Disable Xbox Game Bar"
    description: "Completely disable Xbox Game Bar overlay"
    risk_level: low
    requires_reboot: false
    info: |
      ## What This Does
      Completely disables the Xbox Game Bar overlay that appears when you press Win+G.

      ## Benefits
      - Eliminates overlay-related stuttering
      - Removes accidental Game Bar activations
      - Reduces background resource usage

      ## What You Lose
      - Quick access to recording features
      - Performance monitoring overlay
      - Xbox social features

      ## Recommendation
      Disable if you don't use Game Bar features. Third-party overlays (Discord, NVIDIA) often work better.
    options:
      - label: "Game Bar Disabled"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "AutoGameModeEnabled"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "Software\\Microsoft\\Windows\\CurrentVersion\\GameDVR"
            value_name: "AppCaptureEnabled"
            value_type: "REG_DWORD"
            value: 0
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "UseNexusForGameBarEnabled"
            value_type: "REG_DWORD"
            value: 0
      - label: "Game Bar Enabled (Default)"
        registry_changes:
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "AutoGameModeEnabled"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "Software\\Microsoft\\Windows\\CurrentVersion\\GameDVR"
            value_name: "AppCaptureEnabled"
            value_type: "REG_DWORD"
            value: 1
          - hive: HKCU
            key: "Software\\Microsoft\\GameBar"
            value_name: "UseNexusForGameBarEnabled"
            value_type: "REG_DWORD"
            value: 1

  # NOTE: optimize_tcp_ack_frequency removed - consolidated into disable_nagle_algorithm in network.yaml

  - id: disable_pointer_precision
    name: "Disable Enhanced Pointer Precision"
    description: "Disable Windows enhanced pointer precision globally"
    risk_level: low
    requires_reboot: true
    info: |
      ## What This Does
      Disables Windows' enhanced pointer precision which applies a non-linear curve to mouse movement.

      ## Difference from Mouse Acceleration
      - **Mouse Acceleration**: Changes speed based on movement speed
      - **Enhanced Pointer Precision**: Applies a curve that affects all movement

      ## Gaming Impact
      - Provides true 1:1 mouse movement
      - Consistent aim regardless of movement speed
      - Essential for building muscle memory

      ## Technical Details
      Sets flat mouse curves that provide linear movement.

      ## Recommendation
      Essential for FPS gaming. Also benefits precision work like photo editing.
    options:
      - label: "Enhanced Precision Disabled"
        registry_changes:
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseSensitivity"
            value_type: "REG_SZ"
            value: "10"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "SmoothMouseXCurve"
            value_type: "REG_BINARY"
            value: "00,00,00,00,00,00,00,00,C0,CC,0C,00,00,00,00,00,80,99,19,00,00,00,00,00,40,66,26,00,00,00,00,00,00,33,33,00,00,00,00,00"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "SmoothMouseYCurve"
            value_type: "REG_BINARY"
            value: "00,00,00,00,00,00,00,00,00,00,38,00,00,00,00,00,00,00,70,00,00,00,00,00,00,00,A8,00,00,00,00,00,00,00,E0,00,00,00,00,00"
      - label: "Enhanced Precision Enabled (Default)"
        registry_changes:
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "MouseSensitivity"
            value_type: "REG_SZ"
            value: "10"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "SmoothMouseXCurve"
            value_type: "REG_BINARY"
            value: "00,00,00,00,00,00,00,00,15,6E,00,00,00,00,00,00,00,40,01,00,00,00,00,00,29,DC,03,00,00,00,00,00,00,00,28,00,00,00,00,00"
          - hive: HKCU
            key: "Control Panel\\Mouse"
            value_name: "SmoothMouseYCurve"
            value_type: "REG_BINARY"
            value: "00,00,00,00,00,00,00,00,FD,11,01,00,00,00,00,00,00,24,04,00,00,00,00,00,00,FC,12,00,00,00,00,00,00,00,C0,BB,01,00,00,00,00"

  - id: multimedia_priority_gaming
    name: "Set Multimedia Priority for Gaming"
    description: "Prioritize gaming in Windows multimedia class scheduler"
    risk_level: low
    requires_admin: true
    requires_reboot: true
    info: |
      ## What This Does
      Configures the Windows Multimedia Class Scheduler Service (MMCSS) to prioritize games.

      ## Settings Applied
      - **GPU Priority**: Maximum priority for GPU access
      - **CPU Priority**: High priority for CPU scheduling
      - **Scheduling Category**: High priority scheduling
      - **SFIO Priority**: High priority for storage I/O

      ## Benefits
      - Reduced stuttering in games
      - More consistent frame times
      - Better resource allocation when multitasking

      ## Recommendation
      Safe to enable. Provides measurable improvements in frame consistency.
    options:
      - label: "Gaming Priority High"
        registry_changes:
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "GPU Priority"
            value_type: "REG_DWORD"
            value: 8
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "Priority"
            value_type: "REG_DWORD"
            value: 6
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "Scheduling Category"
            value_type: "REG_SZ"
            value: "High"
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "SFIO Priority"
            value_type: "REG_SZ"
            value: "High"
      - label: "Gaming Priority Default"
        registry_changes:
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "GPU Priority"
            value_type: "REG_DWORD"
            value: 2
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "Priority"
            value_type: "REG_DWORD"
            value: 2
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "Scheduling Category"
            value_type: "REG_SZ"
            value: "Medium"
          - hive: HKLM
            key: "Software\\Microsoft\\Windows NT\\CurrentVersion\\Multimedia\\SystemProfile\\Tasks\\Games"
            value_name: "SFIO Priority"
            value_type: "REG_SZ"
            value: "Normal"

  - id: disable_xbox_services
    name: "Disable Xbox Services"
    description: "Disable Xbox Live Gaming Services for non-Xbox users"
    risk_level: low
    requires_admin: true
    requires_reboot: false
    info: |
      ## What This Does
      Disables Xbox-related background services that run even if you don't use Xbox features.

      ## Benefits
      - Reduces background resource usage
      - Fewer startup services
      - Slightly faster boot times

      ## What You Lose
      - Xbox Live integration
      - Xbox Game Pass PC features
      - Game Bar achievements sync

      ## Recommendation
      Disable if you don't use Xbox/Microsoft Store games. Keep enabled for Game Pass subscribers.
    options:
      - label: "Xbox Services Disabled"
        registry_changes:
          - hive: HKLM
            key: "System\\CurrentControlSet\\Services\\XboxGipSvc"
            value_name: "Start"
            value_type: "REG_DWORD"
            value: 4
          - hive: HKLM
            key: "System\\CurrentControlSet\\Services\\xbgm"
            value_name: "Start"
            value_type: "REG_DWORD"
            value: 4
      - label: "Xbox Services Enabled (Default)"
        registry_changes:
          - hive: HKLM
            key: "System\\CurrentControlSet\\Services\\XboxGipSvc"
            value_name: "Start"
            value_type: "REG_DWORD"
            value: 2
          - hive: HKLM
            key: "System\\CurrentControlSet\\Services\\xbgm"
            value_name: "Start"
            value_type: "REG_DWORD"
            value: 2
